# Todoist

## 这是什么

这个是对于国外的todoist网站的仿站练习，暂时只考虑做基础功能，不考虑高级功能。并且由于是静态页面，所以数据库暂时只能使用indexedDB，这个只能存储在本地，但是只是为了练习js。

暂时不想要的功能：
    1.  拖动
    2.  标签
    3.  过滤器
    


## 现在的进度
    现在左侧的项目栏已经可以添加项目了



## 8月2日的更新
    创建了indexedbd数据库，并且创建了两个存储对象，
    一个用来存储每一个任务的相关数据
    另一个用来存储项目、优先级、标签
    今天并没写完左边栏，是一大败笔，明天一定要将页面的内容全部写完。

## 8月6日的更新
    修改了数据库的结构
    改变了对于项目的原有计划，在功能的实现上有了删减
    封装了一个用来修改class的函数，暂时功能只有添加和删除。
    但是对于数据库的结构还是不满意，所以还是没有将数据写进去。
## 8月7日的更新

    完善了数据库的结构
    实现了将项目添加进数据库中，使得左侧项目可以添加内容 
    完善了addClass方法，增加了修改功能现在有三个功能：添加、删除、修改
    封装了控制数据库的方法，暂时只有添加的功能

## 8月10日更新
    了解到了函数内部的arguments这个内置对象，可以帮我解决class数量不确定的问题。
    增加了数据库的删除方法  
    可以添加和删除项目，但是存在一定的问题，不管是删除韩式添加都会导致整个项目栏闪烁一下
    当视口在750px宽度以下，会自动隐藏左侧菜单，通过点击左上角可以控制出现和隐藏
## 8月22日更新
    用了好几天，将代码大改了一次，因为之前为了图省事曹成了非常多的bug，这几天基本上全部解决了
        1，每一次点击创建新的项目会导致所有存在的项目闪烁一次（已解决）大幅改动了之前的代码
        2，点击删除图标的同时，会导致同时触发修改项目标签背景色的事件（已解决）   使用 e.cancelBubble = true;
        3，点击创建或者删除后，项目标签背景色会消失或者异常（已解决）主要是因为之前添加项目的代码和和展示的代码分开写了
        4，使用addeventlistener的时候会重复监听多次同一个事件（已解决）部分使用onclick
    再次完善了changeclass方法，可以为不存在class的元素添加class。
    又掌握了一种定宽+自适应的实现方法，之前都是一侧浮动+设置margin，这次使用了table的方式。




## 今天的目标
    点击右侧可以改变主体以及每个标签的背景
    可以添加任务
    
## 现在遇到了很严重的问题
    点击添加任务之后由于原来的class属性都被刷新了所以会导致tag_background_white的丢失，而且最严重的问题是添加和删除项目都会导致刷新，但是这两种情况却有着不小的却别
## 感悟
    突然发现addeventlistener并不适合所有情况，或者也可能是我的使用不当，因为addeventlistener可以给一个事件注册多个listener今天遇到了因为这个引发的bug将其改成了onclick就修正了这个bug
    如果父元素和子元素只想触发子元素中的事件，就添加e.cancelBubble = true;可以只触发一个
